<!-- app/views/instructor/help_queues/_list.html.erb -->
<h2 class="mb-3">Current Queue</h2>

<% if help_requests.any? %>
  <ol class="list-group list-group-numbered mb-3">
    <% help_requests.each do |request| %>
      <li class="list-group-item">
        <div class="d-flex align-items-start">
          <div class="me-3">
            <div class="fw-bold"><%= request.user.full_name %></div>
            <small class="text-muted">Added at <%= request.created_at.strftime("%I:%M %p") %></small>
          </div>
        </div>
        <% if defined?(editable) && editable %>
          <%= button_to "Remove", instructor_help_request_path(request), method: :delete, data: { turbo_confirm: "Are you sure?" }, class: "btn btn-sm btn-danger" %>

      <% end %>
      </li>
    <% end %>
  </ol>
<% else %>
  <div class="alert alert-secondary">The queue is currently empty.</div>
<% end %>

<p class="text-muted">
  <em>Last updated: <%= Time.current.in_time_zone("Pacific Time (US & Canada)").strftime("%B %d, %Y %I:%M:%S %p %Z") %></em>
</p>